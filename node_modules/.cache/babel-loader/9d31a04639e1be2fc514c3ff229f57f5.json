{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/tk/DexlockProjects/react activity/src/components/body/body.js\";\nimport React, { Component } from 'react';\nimport Station from '../station/station';\nimport StationList from '../stationList/stationList';\nimport './body.css';\nimport Fare from '../fare/fare';\nimport { fare_attributes } from '../../textFiles/fare_attributes.txt';\nconsole.log();\n\nclass Body extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      departure: \"\",\n      arrival: \"\",\n      fareid: [{}],\n      farename: [{}],\n      price: \"\"\n    };\n    this.updateStation = this.updateStation.bind(this);\n  }\n\n  componentDidMount() {\n    fetch(\"../../textFiles/fare_rules.txt\").then(res => res.json()).then(result => {\n      this.setState({\n        fareid: result\n      });\n    });\n    fetch(\"fare_attributes\").then(res => res.json()).then(result => {\n      this.setState({\n        farename: result\n      });\n    });\n  }\n\n  updateStation(stop_name, stop_id, type) {\n    if (type == \"departure\") {\n      if (this.state.arrival != stop_name) {\n        this.setState({\n          departure: stop_name,\n          depstopId: stop_id\n        });\n      }\n    }\n\n    if (type == \"arrival\") {\n      if (this.state.departure != stop_name) {\n        this.setState({\n          arrival: stop_name,\n          arrstopId: stop_id\n        });\n      }\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.state.departure && this.state.arrival) {\n      if (prevState.departure != this.state.departure || prevState.arrival != this.state.arrival) {\n        var fareId = this.state.fareid.filter(item => {\n          return item.origin_id == this.state.depstopId & item.destination_id == this.state.arrstopId;\n        });\n        var fareValue = this.state.farename.filter(item => {\n          return item.fare_id === fareId[0].fare_id;\n        });\n        this.setState({\n          price: fareValue[0].price\n        });\n      }\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bodyContentWrapper\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Metro Station Details and Fare Details\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"bodyContent\",\n          children: \"By selecting the departure and arrival stations in the below you will be able to see the ticket fare\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"scrollList\",\n        children: [/*#__PURE__*/_jsxDEV(StationList, {\n          name: \"Select Departure Station\",\n          type: \"departure\",\n          activeElement: this.state.departure,\n          updateStation: this.updateStation\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(StationList, {\n          name: \"Select Arrival Station\",\n          type: \"arrival\",\n          activeElement: this.state.arrival,\n          updateStation: this.updateStation\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"fare-description\",\n        children: this.state.departure && this.state.arrival ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"fareResult\",\n          children: [\"Trip Details\", /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"fareResultbox\",\n            children: [/*#__PURE__*/_jsxDEV(Station, {\n              stopName: this.state.departure,\n              stopId: this.state.depstopId,\n              type: \"fare\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(Station, {\n              stopName: this.state.arrival,\n              stopId: this.state.arrstopId,\n              type: \"fare\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(Fare, {\n              price: this.state.price\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 64\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 36\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default Body;","map":{"version":3,"sources":["/home/tk/DexlockProjects/react activity/src/components/body/body.js"],"names":["React","Component","Station","StationList","Fare","fare_attributes","console","log","Body","constructor","props","state","departure","arrival","fareid","farename","price","updateStation","bind","componentDidMount","fetch","then","res","json","result","setState","stop_name","stop_id","type","depstopId","arrstopId","componentDidUpdate","prevProps","prevState","fareId","filter","item","origin_id","destination_id","fareValue","fare_id","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Station from '../station/station'\nimport StationList from '../stationList/stationList'\nimport './body.css'\nimport Fare from '../fare/fare'\nimport {fare_attributes} from '../../textFiles/fare_attributes.txt'\nconsole.log()\n\nclass Body extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            departure: \"\",\n            arrival: \"\",\n            fareid: [{}],\n            farename: [{}],\n            price: \"\"\n        };\n        this.updateStation = this.updateStation.bind(this);\n\n    }\n    componentDidMount() {\n        fetch(\"../../textFiles/fare_rules.txt\")\n            .then(res => res.json())\n            .then(result => {\n                this.setState({ fareid: result });\n            }\n            )\n        fetch(\"fare_attributes\")\n            .then(res => res.json())\n            .then(result => {\n                this.setState({ farename: result });\n            }\n            )\n\n    }\n    updateStation(stop_name, stop_id, type) {\n        if (type == \"departure\") {\n            if (this.state.arrival != stop_name) {\n                this.setState({ departure: stop_name, depstopId: stop_id });\n            }\n\n        }\n        if (type == \"arrival\") {\n            if (this.state.departure != stop_name) {\n                this.setState({ arrival: stop_name, arrstopId: stop_id });\n            }\n        }\n\n    }\n    componentDidUpdate(prevProps, prevState) {\n        if (this.state.departure && this.state.arrival) {\n            if (prevState.departure != this.state.departure || prevState.arrival != this.state.arrival) {\n                var fareId = this.state.fareid.filter(item => {\n                    return (item.origin_id == this.state.depstopId &\n                        item.destination_id == this.state.arrstopId)\n                })\n\n                var fareValue = this.state.farename.filter(item => {\n                    return item.fare_id === fareId[0].fare_id\n                })\n                this.setState({ price: fareValue[0].price })\n            }\n        }\n    }\n\n    render() {\n        return (\n            <div>\n                <div className=\"bodyContentWrapper\">\n                    <h2>\n                        Metro Station Details and Fare Details\n                    </h2>\n                    <p className=\"bodyContent\">\n                        By selecting the departure and arrival stations in the below you will be able to see the ticket fare\n                    </p>\n                </div>\n                <div className=\"scrollList\">\n\n                    <StationList name={\"Select Departure Station\"} type=\"departure\" activeElement={this.state.departure} updateStation={this.updateStation} />\n                    <StationList name={\"Select Arrival Station\"} type=\"arrival\" activeElement={this.state.arrival} updateStation={this.updateStation} />\n                </div >\n                <div  className=\"fare-description\">\n                { this.state.departure && this.state.arrival ? <div className=\"fareResult\">\n                    Trip Details\n                    <div className=\"fareResultbox\">\n                        <Station stopName={this.state.departure} stopId={this.state.depstopId} type=\"fare\" />\n                        <Station stopName={this.state.arrival} stopId={this.state.arrstopId} type=\"fare\" />\n                        <Fare price={this.state.price} />\n\n                    </div></div> : <div></div>}\n                    </div>\n\n\n            </div>\n        )\n    }\n}\nexport default Body;"]},"metadata":{},"sourceType":"module"}